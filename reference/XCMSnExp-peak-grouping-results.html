<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="featureValues,XCMSnExp : extract a matrix for
feature values with rows representing features and columns samples.
Parameter value allows to define which column from the
chromPeaks matrix should be returned. Multiple
chromatographic peaks from the same sample can be assigned to a feature.
Parameter method allows to specify the method to be used in such
cases to chose from which of the peaks the value should be returned.
Parameter `msLevel` allows to choose a specific MS level for which feature
values should be returned (given that features have been defined for that MS
level).
quantify,XCMSnExp: return the preprocessing results as an
SummarizedExperiment object containing the feature abundances
as assay matrix, the feature definitions (returned by
featureDefinitions) as rowData and the phenotype
information as colData. This is an ideal container for further
processing of the data. Internally, the featureValues method
is used to extract the feature abundances, parameters for that method can
be passed to quantify with ...."><title>Accessing mz-rt feature data values — quantify,XCMSnExp-method • xcms</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Accessing mz-rt feature data values — quantify,XCMSnExp-method"><meta property="og:description" content="featureValues,XCMSnExp : extract a matrix for
feature values with rows representing features and columns samples.
Parameter value allows to define which column from the
chromPeaks matrix should be returned. Multiple
chromatographic peaks from the same sample can be assigned to a feature.
Parameter method allows to specify the method to be used in such
cases to chose from which of the peaks the value should be returned.
Parameter `msLevel` allows to choose a specific MS level for which feature
values should be returned (given that features have been defined for that MS
level).
quantify,XCMSnExp: return the preprocessing results as an
SummarizedExperiment object containing the feature abundances
as assay matrix, the feature definitions (returned by
featureDefinitions) as rowData and the phenotype
information as colData. This is an ideal container for further
processing of the data. Internally, the featureValues method
is used to extract the feature abundances, parameters for that method can
be passed to quantify with ...."><meta property="og:image" content="https://sneumann.github.io/xcms/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">xcms</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.1.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/xcms.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/LC-MS-feature-grouping.html">Compounding (grouping) of LC-MS features</a>
    <a class="dropdown-item" href="../articles/xcms-direct-injection.html">Grouping FTICR-MS data with xcms</a>
    <a class="dropdown-item" href="../articles/xcms-lcms-ms.html">LC-MS/MS data analysis with xcms</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/sneumann/xcms/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Accessing mz-rt feature data values</h1>
      <small class="dont-index">Source: <a href="https://github.com/sneumann/xcms/blob/HEAD/R/methods-XCMSnExp.R" class="external-link"><code>R/methods-XCMSnExp.R</code></a></small>
      <div class="d-none name"><code>XCMSnExp-peak-grouping-results.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>featureValues,XCMSnExp</code> : extract a <code>matrix</code> for
feature values with rows representing features and columns samples.
Parameter <code>value</code> allows to define which column from the
<code><a href="XCMSnExp-class.html">chromPeaks</a></code> matrix should be returned. Multiple
chromatographic peaks from the same sample can be assigned to a feature.
Parameter <code>method</code> allows to specify the method to be used in such
cases to chose from which of the peaks the value should be returned.
Parameter `msLevel` allows to choose a specific MS level for which feature
values should be returned (given that features have been defined for that MS
level).</p>
<p><code>quantify,XCMSnExp</code>: return the preprocessing results as an
<code>SummarizedExperiment</code> object containing the feature abundances
as assay matrix, the feature definitions (returned by
<code><a href="XCMSnExp-class.html">featureDefinitions</a></code>) as <code>rowData</code> and the phenotype
information as <code>colData</code>. This is an ideal container for further
processing of the data. Internally, the <code>featureValues</code> method
is used to extract the feature abundances, parameters for that method can
be passed to <code>quantify</code> with <code>...</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S4 method for XCMSnExp</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/ProtGenerics/man/protgenerics.html" class="external-link">quantify</a></span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for XCMSnExp</span></span>
<span><span class="fu">featureValues</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"medret"</span>, <span class="st">"maxint"</span>, <span class="st">"sum"</span><span class="op">)</span>,</span>
<span>  value <span class="op">=</span> <span class="st">"into"</span>,</span>
<span>  intensity <span class="op">=</span> <span class="st">"into"</span>,</span>
<span>  filled <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  missing <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  msLevel <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>object</dt>
<dd><p>A <code><a href="XCMSnExp-class.html">XCMSnExp</a></code> object providing the feature
definitions.</p></dd>


<dt>...</dt>
<dd><p>For <code>quantify</code>: additional parameters to be passed on to the
<code>featureValues</code> method.</p></dd>


<dt>method</dt>
<dd><p><code>character</code> specifying the method to resolve
multi-peak mappings within the same sample, i.e. to define the
<em>representative</em> peak for a feature in samples where more than
one peak was assigned to the feature. If <code>"medret"</code>: select the
peak closest to the median retention time of the feature.
If <code>"maxint"</code>: select the peak yielding the largest signal. If
<code>"sum"</code>: sum the values (only if <code>value</code> is <code>"into"</code> or
<code>"maxo"</code>.</p></dd>


<dt>value</dt>
<dd><p><code>character</code> specifying the name of the column in
<code>chromPeaks(object)</code> that should be returned. Defaults to
<code>"into"</code> in which case the integrated peak area is returned. To
get the index of the peak in the <code>chromPeaks(object)</code> matrix use
<code>"index"</code>.</p></dd>


<dt>intensity</dt>
<dd><p><code>character</code> specifying the name of the column in the
<code>chromPeaks(objects)</code> matrix containing the intensity value of the
peak that should be used for the conflict resolution if
<code>method = "maxint"</code>.</p></dd>


<dt>filled</dt>
<dd><p><code>logical(1)</code> specifying whether values for filled-in
peaks should be returned or not. If <code>filled = FALSE</code>, an <code>NA</code>
is returned in the matrix for the respective peak. See
<code><a href="fillChromPeaks.html">fillChromPeaks</a></code> for details on peak filling.</p></dd>


<dt>missing</dt>
<dd><p>how missing values should be reported. Allowed values are
<code>NA</code> (the default), a <code>numeric</code> or
<code>missing = "rowmin_half"</code>. The latter replaces any <code>NA</code> with
half of the row's minimal (non-missing) value.</p></dd>


<dt>msLevel</dt>
<dd><p>for `featureValues`: `integer` defining the MS level(s) for
which feature values should be returned. By default, values for features
defined for all MS levels are returned.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>For <code>featureValues</code>: a <code>matrix</code> with
feature values, columns representing samples, rows features. The order
of the features matches the order found in the
<code>featureDefinitions(object)</code></p>
<p></p>
<p><code>DataFrame</code>. The rownames of the
<code>matrix</code> are the same than those of the <code>featureDefinitions</code></p>


<p><code>DataFrame</code>. <code>NA</code> is reported for features without
corresponding chromatographic peak in the respective sample(s).</p>


<p>For <code>quantify</code>: a <code>SummarizedExperiment</code> representing
the preprocessing results.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>This method is equivalent to the <code><a href="groupval-methods.html">groupval</a></code> for
<code>xcmsSet</code> objects. Note that <code>missing = 0</code> should be used to
get the same behaviour as <code>groupval</code>, i.e. report missing values as 0
after a call to <code>fillPeaks</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="XCMSnExp-class.html">XCMSnExp</a></code> for information on the data object.</p>
<p><code><a href="XCMSnExp-class.html">featureDefinitions</a></code> to extract the <code>DataFrame</code> with the
feature definitions.</p>
<p><code><a href="featureChromatograms.html">featureChromatograms</a></code> to extract ion chromatograms for each
feature.</p>
<p><code><a href="XCMSnExp-class.html">hasFeatures</a></code> to evaluate whether the
<code><a href="XCMSnExp-class.html">XCMSnExp</a></code> provides feature definitions.</p>
<p><code><a href="groupval-methods.html">groupval</a></code> for the equivalent method on <code>xcmsSet</code> objects.</p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Johannes Rainer</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Colin A. Smith, Ralf Tautenhahn, Steffen Neumann, Paul Benton, Christopher Conley, Johannes Rainer, Philippine Louail.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.9000.</p>
</div>

    </footer></div>

  

  

  </body></html>

