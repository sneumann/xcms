<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This class transforms a set of peaks from multiple LC/MS or GC/MS
  samples into a matrix of preprocessed data. It groups the peaks
  and does nonlinear retention time correction without internal
  standards. It fills in missing peak values from raw data. Lastly,
  it generates extracted ion chromatograms for ions of interest."><title>Class xcmsSet, a class for preprocessing peak data — xcmsSet-class • xcms</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Class xcmsSet, a class for preprocessing peak data — xcmsSet-class"><meta property="og:description" content="This class transforms a set of peaks from multiple LC/MS or GC/MS
  samples into a matrix of preprocessed data. It groups the peaks
  and does nonlinear retention time correction without internal
  standards. It fills in missing peak values from raw data. Lastly,
  it generates extracted ion chromatograms for ions of interest."><meta property="og:image" content="https://sneumann.github.io/xcms/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">xcms</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.1.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/xcms.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/LC-MS-feature-grouping.html">Compounding (grouping) of LC-MS features</a>
    <a class="dropdown-item" href="../articles/xcms-direct-injection.html">Grouping FTICR-MS data with xcms</a>
    <a class="dropdown-item" href="../articles/xcms-lcms-ms.html">LC-MS/MS data analysis with xcms</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/sneumann/xcms/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Class xcmsSet, a class for preprocessing peak data</h1>
      
      <div class="d-none name"><code>xcmsSet-class.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This class transforms a set of peaks from multiple LC/MS or GC/MS
  samples into a matrix of preprocessed data. It groups the peaks
  and does nonlinear retention time correction without internal
  standards. It fills in missing peak values from raw data. Lastly,
  it generates extracted ion chromatograms for ions of interest.</p>
    </div>


    <div class="section level2">
    <h2 id="objects-from-the-class">Objects from the Class<a class="anchor" aria-label="anchor" href="#objects-from-the-class"></a></h2>
    <p>Objects can be created with the <code><a href="xcmsSet.html">xcmsSet</a></code> constructor
  which gathers peaks from a set NetCDF files. Objects can also be
  created by calls of the form <code>new("xcmsSet", ...)</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="slots">Slots<a class="anchor" aria-label="anchor" href="#slots"></a></h2>
    <p></p><dl><dt>peaks</dt>
<dd><p><code>matrix</code> containing peak data.</p></dd>

    <dt>filled</dt>
<dd><p>A vector with peak indices of peaks which have been added by a
      <code><a href="fillPeaks-methods.html">fillPeaks</a></code> method.</p></dd>

    <dt>groups</dt>
<dd><p>Matrix containing statistics about peak groups.</p></dd>

    <dt>groupidx</dt>
<dd><p>List containing indices of peaks in each group.</p></dd>

    <dt>phenoData</dt>
<dd><p>A <code>data.frame</code> containing the experimental design factors.</p></dd>

    <dt>rt</dt>
<dd><p><code>list</code> containing two lists, <code>raw</code> and <code>corrected</code>,
      each containing retention times for every scan of every sample.</p></dd>

    <dt>filepaths</dt>
<dd><p>Character vector with absolute path name of each NetCDF file.</p></dd>

    <dt>profinfo</dt>
<dd><p><code>list</code> containing the values <code>method</code> - profile generation
      method, and <code>step</code> - profile m/z step size and eventual
      additional parameters to the profile function.</p></dd>

    <dt>dataCorrection</dt>
<dd><p><code>logical</code> vector filled if the waters Lock mass correction
      parameter is used.</p></dd>

    <dt>polarity</dt>
<dd><p>A string ("positive" or "negative" or NULL) describing whether only
      positive or negative scans have been used reading the raw data.</p></dd>

    <dt>progressInfo</dt>
<dd><p>Progress informations for some xcms functions (for GUI).</p></dd>

    <dt>progressCallback</dt>
<dd><p>Function to be called, when progressInfo changes (for GUI).</p></dd>

    <dt>mslevel</dt>
<dd><p>Numeric representing the MS level on which the peak picking was
      performed (by default on MS1). This slot should be accessed
      through its getter method <code>mslevel</code>.</p></dd>

    <dt>scanrange</dt>
<dd><p>Numeric of length 2 specifying the scan range (or <code>NULL</code> for
      the full range). This slot should be accessed through its getter
      method <code>scanrange</code>. The scan range provided in this slot
      represents the scans to which the whole raw data is subsetted.</p></dd>

    <dt>.processHistory</dt>
<dd><p>Internal slot to be used to keep track of performed processing
      steps. This slot should not be directly accessed by the user.</p></dd>

  
</dl></div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>
    <p></p><dl><dt><a href="c.xcmsSet.html">c</a></dt>
<dd><p><code>signature("xcmsSet")</code>: combine objects together</p></dd>

    <dt>filepaths&lt;-</dt>
<dd><p><code>signature(object = "xcmsSet")</code>: set <code>filepaths</code> slot</p></dd>

    <dt>filepaths</dt>
<dd><p><code>signature(object = "xcmsSet")</code>: get <code>filepaths</code> slot</p></dd>

    <dt><a href="diffreport-methods.html">diffreport</a></dt>
<dd><p><code>signature(object = "xcmsSet")</code>: create report of
      differentially regulated ions including EICs</p></dd>

    <dt><a href="fillPeaks-methods.html">fillPeaks</a></dt>
<dd><p><code>signature(object = "xcmsSet")</code>: fill in peak data for
      groups with missing peaks</p></dd>

    <dt><a href="getEIC-methods.html">getEIC</a></dt>
<dd><p><code>signature(object = "xcmsSet")</code>: get list of EICs for
      each sample in the set</p></dd>

    <dt><a href="getXcmsRaw-methods.html">getXcmsRaw</a></dt>
<dd><p><code>signature(object = "xcmsSet", sampleidx = 1,
	profmethod = profMethod(object), profstep = profStep(object),
	profparam=profinfo(object), mslevel = NULL, scanrange = NULL,
	rt=c("corrected", "raw"), BPPARAM = bpparam())</code>: read the raw
      data for one or more files in the <code>xcmsSet</code> and return
      it. The default parameters will apply all settings used in the
      original <code><a href="xcmsSet.html">xcmsSet</a></code> call to generate the <code>xcmsSet</code>
      object to be applied also to the raw data. Parameter
      <code>sampleidx</code> allows to specify which raw file(s) should be
      loaded. Argument <code>BPPARAM</code> allows to setup parallel
      processing.</p></dd>

    <dt>groupidx&lt;-</dt>
<dd><p><code>signature(object = "xcmsSet")</code>: set <code>groupidx</code> slot</p></dd>

    <dt>groupidx</dt>
<dd><p><code>signature(object = "xcmsSet")</code>: get <code>groupidx</code> slot</p></dd>

    <dt><a href="groupnames-methods.html">groupnames</a></dt>
<dd><p><code>signature(object = "xcmsSet")</code>: get textual names for
      peak groups</p></dd>

    <dt>groups&lt;-</dt>
<dd><p><code>signature(object = "xcmsSet")</code>: set <code>groups</code> slot</p></dd>

    <dt>groups</dt>
<dd><p><code>signature(object = "xcmsSet")</code>: get <code>groups</code> slot</p></dd>

    <dt><a href="groupval-methods.html">groupval</a></dt>
<dd><p><code>signature(object = "xcmsSet")</code>: get matrix of values
      from peak data with a row for each peak group</p></dd>

    <dt><a href="group-methods.html">group</a></dt>
<dd><p><code>signature(object = "xcmsSet")</code>: find groups of peaks
      across samples that share similar m/z and retention times</p></dd>

    <dt>mslevel</dt>
<dd><p>Getter method for the <code>mslevel</code> slot.</p></dd>

    <dt>peaks&lt;-</dt>
<dd><p><code>signature(object = "xcmsSet")</code>: set <code>peaks</code> slot</p></dd>

    <dt>peaks</dt>
<dd><p><code>signature(object = "xcmsSet")</code>: get <code>peaks</code> slot</p></dd>

    <dt><a href="plotrt-methods.html">plotrt</a></dt>
<dd><p><code>signature(object = "xcmsSet")</code>: plot retention time
      deviation profiles</p></dd>

    <dt>profinfo&lt;-</dt>
<dd><p><code>signature(object = "xcmsSet")</code>: set <code>profinfo</code> slot</p></dd>

    <dt>profinfo</dt>
<dd><p><code>signature(object = "xcmsSet")</code>: get <code>profinfo</code> slot</p></dd>

    <dt>profMethod</dt>
<dd><p><code>signature(object = "xcmsSet")</code>: extract the method used to
      generate the profile matrix.</p></dd>

    <dt>profStep</dt>
<dd><p><code>signature(object = "xcmsSet")</code>: extract the profile step
      used for the generation of the profile matrix.</p></dd>

    <dt><a href="retcor-methods.html">retcor</a></dt>
<dd><p><code>signature(object = "xcmsSet")</code>: use initial grouping
      of peaks to do nonlinear loess retention time correction</p></dd>

    <dt>sampclass&lt;-</dt>
<dd><p><code>signature(object = "xcmsSet")</code>: Replaces the column
      “class” in the <code>phenoData</code> slot. See details for more information.</p></dd>

    <dt>sampclass</dt>
<dd><p><code>signature(object = "xcmsSet")</code>: Returns the content of the
      column “class” from the <code>phenoData</code> slot or, if not
      present, the interaction of the experimental design factors
      (i.e. of the <code>phenoData</code> <code>data.frame</code>). See details for
      more information.</p></dd>

    <dt>phenoData&lt;-</dt>
<dd><p><code>signature(object = "xcmsSet")</code>: set the <code>phenoData</code> slot</p></dd>

    <dt>phenoData</dt>
<dd><p><code>signature(object = "xcmsSet")</code>: get the <code>phenoData</code> slot</p></dd>

    <dt>progressCallback&lt;-</dt>
<dd><p><code>signature(object = "xcmsSet")</code>: set the <code>progressCallback</code> slot</p></dd>

    <dt>progressCallback</dt>
<dd><p><code>signature(object = "xcmsSet")</code>: get the <code>progressCallback</code> slot</p></dd>

    <dt>scanrange</dt>
<dd><p>Getter method for the <code>scanrange</code> slot. See scanrange slot
      description above for more details.</p></dd>

    <dt>sampnames&lt;-</dt>
<dd><p><code>signature(object = "xcmsSet")</code>: set rownames in the
      <code>phenoData</code> slot</p></dd>

    <dt><a href="sampnames-methods.html">sampnames</a></dt>
<dd><p><code>signature(object = "xcmsSet")</code>: get rownames in the
      <code>phenoData</code> slot</p></dd>

    <dt><a href="split.xcmsSet.html">split</a></dt>
<dd><p><code>signature("xcmsSet")</code>: divide the xcmsSet into a list of
      xcmsSet objects depending on the provided factor. Note that only
      peak data will be preserved, i.e. eventual peak grouping information
      will be lost.</p></dd>

    <dt><code>object$name</code>, <code>object$name&lt;-value</code></dt>
<dd><p>Access and set <code>name</code> column in <code>phenoData</code></p></dd>

    <dt><code>object[, i]</code></dt>
<dd><p>Conducts subsetting of a <code>xcmsSet</code> instance. Only subsetting
      on columns, i.e. samples, is supported. Subsetting is performed on
      all slots, also on <code>groups</code> and <code>groupidx</code>. Parameter
      <code>i</code> can be an integer vector, a logical vector or a character
      vector of sample names (matching <code>sampnames</code>).</p></dd>

  
</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The <code>phenoData</code> slot (and <code>phenoData</code> parameter in the
  <code><a href="xcmsSet.html">xcmsSet</a></code> function) is intended to contain a <code>data.frame</code> describing
  all experimental factors, i.e. the samples along with their
  properties. If this <code>data.frame</code> contains a column named
  “class”, this will be returned by the <code>sampclass</code> method
  and will thus be used by all methods to determine the sample
  grouping/class assignment (e.g. to define the colors in various plots
  or for the <code><a href="group-methods.html">group</a></code> method).</p>
<p>The <code>sampclass&lt;-</code> method adds or replaces the “class”
  column in the <code>phenoData</code> slot. If a <code>data.frame</code> is
  submitted to this method, the interaction of its columns will be
  stored into the “class” column.</p>
<p>Also, similar to other classes in Bioconductor, the <code>$</code> method
  can be used to directly access all columns in the <code>phenoData</code>
  slot (e.g. use <code>xset$name</code> on a <code>xcmsSet</code> object called
  “xset” to extract the values from a column named “name” in the <code>phenoData</code> slot).</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Colin A. Smith, <a href="mailto:csmith@scripps.edu">csmith@scripps.edu</a>, Johannes Rainer <a href="mailto:johannes.rainer@eurac.edu">johannes.rainer@eurac.edu</a></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="xcmsSet.html">xcmsSet</a></code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Colin A. Smith, Ralf Tautenhahn, Steffen Neumann, Paul Benton, Christopher Conley, Johannes Rainer, William Kumler, Philippine Louail.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.9000.</p>
</div>

    </footer></div>

  

  

  </body></html>

