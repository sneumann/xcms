<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Feature compounding aims at identifying and grouping LC-MS features
representing different ions or adducts (including isotopes) of the same
originating compound.
The MsFeatures package
provides a general framework and functionality to group features based on
different properties. The groupFeatures methods for XcmsExperiment() or
XCMSnExp objects implemented in xcms extend these to enable
the compounding of LC-MS data considering also e.g. feature peak shaped.
Note that these functions simply define feature groups but don't
actually aggregate or combine the features.
See MsFeatures::groupFeatures() for an overview on the general feature
grouping concept as well as details on the individual settings and
parameters.
The available options for groupFeatures on xcms preprocessing results
(i.e. on XcmsExperiment or XCMSnExp objects after correspondence
analysis with groupChromPeaks()) are:
Grouping by similar retention times: groupFeatures-similar-rtime().
Grouping by similar feature values across samples:
AbundanceSimilarityParam().
Grouping by similar peak shape of extracted ion chromatograms:
EicSimilarityParam().


An ideal workflow grouping features should sequentially perform the above
methods (in the listed order).
Compounded feature groups can be accessed with the featureGroups function."><title>Compounding of LC-MS features — feature-grouping • xcms</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compounding of LC-MS features — feature-grouping"><meta property="og:description" content="Feature compounding aims at identifying and grouping LC-MS features
representing different ions or adducts (including isotopes) of the same
originating compound.
The MsFeatures package
provides a general framework and functionality to group features based on
different properties. The groupFeatures methods for XcmsExperiment() or
XCMSnExp objects implemented in xcms extend these to enable
the compounding of LC-MS data considering also e.g. feature peak shaped.
Note that these functions simply define feature groups but don't
actually aggregate or combine the features.
See MsFeatures::groupFeatures() for an overview on the general feature
grouping concept as well as details on the individual settings and
parameters.
The available options for groupFeatures on xcms preprocessing results
(i.e. on XcmsExperiment or XCMSnExp objects after correspondence
analysis with groupChromPeaks()) are:
Grouping by similar retention times: groupFeatures-similar-rtime().
Grouping by similar feature values across samples:
AbundanceSimilarityParam().
Grouping by similar peak shape of extracted ion chromatograms:
EicSimilarityParam().


An ideal workflow grouping features should sequentially perform the above
methods (in the listed order).
Compounded feature groups can be accessed with the featureGroups function."><meta property="og:image" content="https://sneumann.github.io/xcms/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">xcms</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.1.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/xcms.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/LC-MS-feature-grouping.html">Compounding (grouping) of LC-MS features</a>
    <a class="dropdown-item" href="../articles/xcms-direct-injection.html">Grouping FTICR-MS data with xcms</a>
    <a class="dropdown-item" href="../articles/xcms-lcms-ms.html">LC-MS/MS data analysis with xcms</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/sneumann/xcms/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Compounding of LC-MS features</h1>
      <small class="dont-index">Source: <a href="https://github.com/sneumann/xcms/blob/HEAD/R/methods-group-features.R" class="external-link"><code>R/methods-group-features.R</code></a></small>
      <div class="d-none name"><code>feature-grouping.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Feature <em>compounding</em> aims at identifying and grouping LC-MS features
representing different ions or adducts (including isotopes) of the same
originating compound.
The <a href="https://bioconductor.org/packages/MsFeatures" class="external-link">MsFeatures</a> package
provides a general framework and functionality to group features based on
different properties. The <code>groupFeatures</code> methods for <code><a href="XcmsExperiment.html">XcmsExperiment()</a></code> or
<a href="XCMSnExp-class.html">XCMSnExp</a> objects implemented in <code>xcms</code> extend these to enable
the <em>compounding</em> of LC-MS data considering also e.g. feature peak shaped.
Note that these functions simply define feature groups but don't
actually <em>aggregate</em> or combine the features.</p>
<p>See <code><a href="https://rdrr.io/pkg/MsFeatures/man/groupFeatures.html" class="external-link">MsFeatures::groupFeatures()</a></code> for an overview on the general feature
grouping concept as well as details on the individual settings and
parameters.</p>
<p>The available options for <code>groupFeatures</code> on <code>xcms</code> preprocessing results
(i.e. on <code>XcmsExperiment</code> or <code>XCMSnExp</code> objects after correspondence
analysis with <code><a href="groupChromPeaks.html">groupChromPeaks()</a></code>) are:</p><ul><li><p>Grouping by similar retention times: <code><a href="groupFeatures-similar-rtime.html">groupFeatures-similar-rtime()</a></code>.</p></li>
<li><p>Grouping by similar feature values across samples:
<code>AbundanceSimilarityParam()</code>.</p></li>
<li><p>Grouping by similar peak shape of extracted ion chromatograms:
<code><a href="groupFeatures-eic-similarity.html">EicSimilarityParam()</a></code>.</p></li>
</ul><p>An ideal workflow grouping features should sequentially perform the above
methods (in the listed order).</p>
<p>Compounded feature groups can be accessed with the <code>featureGroups</code> function.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S4 method for XcmsResult</span></span>
<span><span class="fu">featureGroups</span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for XcmsResult</span></span>
<span><span class="fu">featureGroups</span><span class="op">(</span><span class="va">object</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>object</dt>
<dd><p>an <code><a href="XcmsExperiment.html">XcmsExperiment()</a></code> or <code><a href="XCMSnExp-class.html">XCMSnExp()</a></code> object with LC-MS
pre-processing results.</p></dd>


<dt>value</dt>
<dd><p>for <code>featureGroups&lt;-</code>: replacement for the feature groups in
<code>object</code>. Has to be of length 1 or length equal to the number of features
in <code>object</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="plotFeatureGroups.html">plotFeatureGroups()</a></code> for visualization of grouped features.</p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Johannes Rainer, Mar Garcia-Aloy, Vinicius Veri Hernandes</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Colin A. Smith, Ralf Tautenhahn, Steffen Neumann, Paul Benton, Christopher Conley, Johannes Rainer, Philippine Louail.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.9000.</p>
</div>

    </footer></div>

  

  

  </body></html>

