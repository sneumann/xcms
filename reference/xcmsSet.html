<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function handles the construction of xcmsSet objects. It
  finds peaks in batch mode and pre-sorts files from subdirectories
  into different classes suitable for grouping."><title>Constructor for xcmsSet objects which finds peaks in NetCDF/mzXML files — xcmsSet • xcms</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Constructor for xcmsSet objects which finds peaks in NetCDF/mzXML files — xcmsSet"><meta property="og:description" content="This function handles the construction of xcmsSet objects. It
  finds peaks in batch mode and pre-sorts files from subdirectories
  into different classes suitable for grouping."><meta property="og:image" content="https://sneumann.github.io/xcms/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">xcms</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.1.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/xcms.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/LC-MS-feature-grouping.html">Compounding (grouping) of LC-MS features</a>
    <a class="dropdown-item" href="../articles/xcms-direct-injection.html">Grouping FTICR-MS data with xcms</a>
    <a class="dropdown-item" href="../articles/xcms-lcms-ms.html">LC-MS/MS data analysis with xcms</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/sneumann/xcms/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Constructor for xcmsSet objects which finds peaks in NetCDF/mzXML files</h1>
      
      <div class="d-none name"><code>xcmsSet.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function handles the construction of xcmsSet objects. It
  finds peaks in batch mode and pre-sorts files from subdirectories
  into different classes suitable for grouping.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">xcmsSet</span><span class="op">(</span>files <span class="op">=</span> <span class="cn">NULL</span>, snames <span class="op">=</span> <span class="cn">NULL</span>, sclass <span class="op">=</span> <span class="cn">NULL</span>, phenoData <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>        profmethod <span class="op">=</span> <span class="st">"bin"</span>, profparam <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>        polarity <span class="op">=</span> <span class="cn">NULL</span>, lockMassFreq<span class="op">=</span><span class="cn">FALSE</span>,</span>
<span>  mslevel<span class="op">=</span><span class="cn">NULL</span>, nSlaves<span class="op">=</span><span class="fl">0</span>, progressCallback<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>        scanrange <span class="op">=</span> <span class="cn">NULL</span>, BPPARAM <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/BiocParallel/man/register.html" class="external-link">bpparam</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>        stopOnError <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>files</dt>
<dd><p>path names of the NetCDF/mzXML files to read</p></dd>

  <dt>snames</dt>
<dd><p>sample names. By default the file name without extension
    is used.</p></dd>

  <dt>sclass</dt>
<dd><p>sample classes.</p></dd>

  <dt>phenoData</dt>
<dd><p><code>data.frame</code> or <code>AnnotatedDataFrame</code>
    defining the sample names and classes and other sample related
    properties. If not provided, the argument <code>sclass</code> or the
    subdirectories in which the samples are stored will be
    used to specify sample grouping.</p></dd>

  <dt>profmethod</dt>
<dd><p>Method to use for profile generation. Supported
    values are <code>"bin"</code>, <code>"binlin"</code>, <code>"binlinbase"</code> and
    <code>"intlin"</code> (for methods <code><a href="profGenerate.html">profBin</a></code>,
    <code><a href="profGenerate.html">profBinLin</a></code>, <code><a href="profGenerate.html">profBinLinBase</a></code> and
    <code><a href="profGenerate.html">profIntLin</a></code>, respectively). See help on
    <code><a href="profGenerate.html">profBin</a></code> for a complete list of available methods and
    their supported parameters.</p></dd>

  <dt>profparam</dt>
<dd><p>parameters to use for profile generation.</p></dd>

  <dt>polarity</dt>
<dd><p>filter raw data for positive/negative scans</p></dd>

	<dt>lockMassFreq</dt>
<dd><p>Performs correction for Waters LockMass function</p></dd>

    <dt>mslevel</dt>
<dd><p>perform peak picking on data of given mslevel</p></dd>

    <dt>nSlaves</dt>
<dd><p><em>DEPRECATED</em>, use <code>BPPARAM</code> argument
      instead.</p></dd>

  <dt>progressCallback</dt>
<dd><p>function to be called, when progressInfo changes (useful for GUIs)</p></dd>

  <dt>scanrange</dt>
<dd><p>scan range to read</p></dd>

  <dt>BPPARAM</dt>
<dd><p>a <code>BiocParallel</code> parameter object to control how
    and if parallel processing should be performed. Such objects can be
    created by the <code><a href="https://rdrr.io/pkg/BiocParallel/man/SerialParam-class.html" class="external-link">SerialParam</a></code>,
    <code><a href="https://rdrr.io/pkg/BiocParallel/man/MulticoreParam-class.html" class="external-link">MulticoreParam</a></code> or
    <code><a href="https://rdrr.io/pkg/BiocParallel/man/SnowParam-class.html" class="external-link">SnowParam</a></code> functions.</p></dd>

  <dt>stopOnError</dt>
<dd><p>Logical specifying whether the feature detection
    call should stop on the first encountered error (the default), or
    whether feature detection is performed in all files regardless
    eventual failures for individual files in which case all errors are
    reported as <code>warnings</code>.</p></dd>

  <dt>...</dt>
<dd><p>further arguments to the <code>findPeaks</code> method of the
    <code>xcmsRaw</code> class</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The default values of the <code>files</code>, <code>snames</code>, <code>sclass</code>, and
  <code>phenoData</code> arguments cause the function to recursively search
  for readable files. The filename without extention is used for the
  sample name. The subdirectory path is used for the sample class.
  If the files contain both positive and negative spectra, the polarity
  can be selected explicitly. The default (NULL) is to read all scans.</p>
<p>If <code>phenoData</code> is provided, it is stored to the <code>phenoData</code>
  slot of the returned <code>xcmsSet</code> class. If that <code>data.frame</code>
  contains a column named “class”, its content will be returned
  by the <code><a href="xcmsSet-class.html">sampclass</a></code> method and thus be used for the
  group/class assignment of the individual files (e.g. for peak grouping
  etc.). For more details see the help of the <code><a href="xcmsSet-class.html">xcmsSet-class</a></code>.</p>
<p>The step size (in m/z) to use for profile generation can be submitted
  either using the <code>profparam</code> argument
  (e.g. <code>profparam=list(step=0.1)</code>) or by submitting
  <code>step=0.1</code>. By specifying a value of <code>0</code> the profile matrix
  generation can be skipped.</p>
<p>The feature/peak detection algorithm can be specified with the
  <code>method</code> argument which defaults to the <code>"matchFilter"</code>
  method (<code><a href="findPeaks.matchedFilter-xcmsRaw-method.html">findPeaks.matchedFilter</a></code>). Possible values are
  returned by <code>getOption("BioC")$xcms$findPeaks.methods</code>.</p>
<p>The lock mass correction allows for the lock mass scan to be added back in
  with the last working scan. This correction gives better reproducibility
  between sample sets.</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A <code>xcmsSet</code> object.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Colin A. Smith, <a href="mailto:csmith@scripps.edu">csmith@scripps.edu</a></p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>The arguments <code>profmethod</code> and <code>profparam</code> have no influence
  on the feature/peak detection. The step size parameter <code>step</code> for
  the profile generation in the <code><a href="findPeaks.matchedFilter-xcmsRaw-method.html">findPeaks.matchedFilter</a></code>
  peak detection algorithm can be passed using the <code>...</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="xcmsSet-class.html">xcmsSet-class</a></code>,
  <code><a href="findPeaks-methods.html">findPeaks</a></code>,
  <code><a href="profStep-methods.html">profStep</a></code>,
  <code><a href="profMethod-methods.html">profMethod</a></code>,
  <code><a href="profGenerate.html">profBin</a></code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Colin A. Smith, Ralf Tautenhahn, Steffen Neumann, Paul Benton, Christopher Conley, Johannes Rainer, Philippine Louail.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.9000.</p>
</div>

    </footer></div>

  

  

  </body></html>

