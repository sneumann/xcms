% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/DataClasses.R, R/functions-Params.R,
%   R/methods-Params.R
\docType{class}
\name{findChromPeaks-centWaveIonMobility}
\alias{findChromPeaks-centWaveIonMobility}
\alias{centWaveIonMobility}
\alias{IMCentWaveParam-class}
\alias{IMCentWaveParam}
\alias{ppmMerging,IMCentWaveParam-method}
\alias{ppmMerging<-,IMCentWaveParam-method}
\alias{ppmMerging<-}
\alias{binWidthIM,IMCentWaveParam-method}
\alias{binWidthIM<-,IMCentWaveParam-method}
\alias{binWidthIM<-}
\title{Centwave-based ion-mobility peak picking}
\usage{
IMCentWaveParam(
  ppm = 25,
  peakwidth = c(20, 50),
  snthresh = 10,
  prefilter = c(3, 100),
  mzCenterFun = "wMean",
  integrate = 1L,
  mzdiff = -0.001,
  fitgauss = FALSE,
  noise = 0,
  verboseColumns = FALSE,
  roiList = list(),
  firstBaselineCheck = TRUE,
  roiScales = numeric(),
  extendLengthMSW = FALSE,
  ppmMerging = 10,
  binWidthIM = 0.02
)

\S4method{ppmMerging}{IMCentWaveParam}(object)

\S4method{ppmMerging}{IMCentWaveParam}(object) <- value

\S4method{binWidthIM}{IMCentWaveParam}(object)

\S4method{binWidthIM}{IMCentWaveParam}(object) <- value
}
\arguments{
\item{ppm}{\code{numeric(1)} defining the maximal tolerated m/z deviation in
consecutive scans in parts per million (ppm) for the initial ROI
definition.}

\item{peakwidth}{\code{numeric(2)} with the expected approximate
peak width in chromatographic space. Given as a range (min, max)
in seconds.}

\item{snthresh}{\code{numeric(1)} defining the signal to noise ratio cutoff.}

\item{prefilter}{\code{numeric(2)}: \code{c(k, I)} specifying the prefilter
step for the first analysis step (ROI detection). Mass traces are only
retained if they contain at least \code{k} peaks with intensity
\code{>= I}.}

\item{mzCenterFun}{Name of the function to calculate the m/z center of the
chromatographic peak. Allowed are: \code{"wMean"}: intensity weighted
mean of the peak's m/z values, \code{"mean"}: mean of the peak's m/z
values, \code{"apex"}: use the m/z value at the peak apex,
\code{"wMeanApex3"}: intensity weighted mean of the m/z value at the
peak apex and the m/z values left and right of it and \code{"meanApex3"}:
mean of the m/z value of the peak apex and the m/z values left and right
of it.}

\item{integrate}{Integration method. For \code{integrate = 1} peak limits
are found through descent on the mexican hat filtered data, for
\code{integrate = 2} the descent is done on the real data. The latter
method is more accurate but prone to noise, while the former is more
robust, but less exact.}

\item{mzdiff}{\code{numeric(1)} representing the minimum difference in m/z
dimension required for peaks with overlapping retention times; can be
negative to allow overlap. During peak post-processing, peaks
defined to be overlapping are reduced to the one peak with the largest
signal.}

\item{fitgauss}{\code{logical(1)} whether or not a Gaussian should be fitted
to each peak. This affects mostly the retention time position of the
peak.}

\item{noise}{\code{numeric(1)} allowing to set a minimum intensity required
for centroids to be considered in the first analysis step (centroids with
intensity \code{< noise} are omitted from ROI detection).}

\item{verboseColumns}{\code{logical(1)} whether additional peak meta data
columns should be returned.}

\item{roiList}{An optional list of regions-of-interest (ROI) representing
detected mass traces. If ROIs are submitted the first analysis step is
omitted and chromatographic peak detection is performed on the submitted
ROIs. Each ROI is expected to have the following elements specified:
\code{scmin} (start scan index), \code{scmax} (end scan index),
\code{mzmin} (minimum m/z), \code{mzmax} (maximum m/z), \code{length}
(number of scans), \code{intensity} (summed intensity). Each ROI should
be represented by a \code{list} of elements or a single row
\code{data.frame}.}

\item{firstBaselineCheck}{\code{logical(1)}. If \code{TRUE} continuous
data within regions of interest is checked to be above the first baseline.
In detail, a first rough estimate of the noise is calculated and peak
detection is performed only in regions in which multiple sequential
signals are higher than this first estimated baseline/noise level.}

\item{roiScales}{Optional numeric vector with length equal to \code{roiList}
defining the scale for each region of interest in \code{roiList} that
should be used for the centWave-wavelets.}

\item{extendLengthMSW}{Option to force centWave to use all scales when
running centWave rather than truncating with the EIC length. Uses the "open"
method to extend the EIC to a integer base-2 length prior to being passed to
\code{convolve} rather than the default "reflect" method. See
https://github.com/sneumann/xcms/issues/445 for more information.}

\item{ppmMerging}{The maximum mass deviation allowed when grouping individual
IM scans into frames. Data points within \code{ppmMerging} ppm will be
summed up into a single value and the reported mz will be their weighted
average.}

\item{binWidthIM}{The bin size used when calculating the mobilograms to resolve
the peaks into the ion-mobility dimension. Lower values will give better resolution
if the data allows it, but can also generate spurious peaks.}

\item{object}{For \code{findChromPeaks}: an
    \code{\link{OnDiskMSnExp}}  object containing the MS- and all
    other experiment-relevant data.

    For all other methods: a parameter object.}

\item{value}{The value for the slot.}
}
\value{
The \code{IMCentWaveParam} function returns a
    \code{IMCentWaveParam} class instance with all of the settings
    specified for the centWave-based peak detection in chromatographic + 
    ion mobility data.
}
\description{
Performs an extension of CentWave peak-picking on LC-IM-MS MS1
  data: first it joins all mobility scans into frames and performs .centWave_orig on
  the summarized LC-MS-like data; then, from each peak, it calculates its mobilogram and
  performs a second peak-picking on the IM dimension, resolving the peaks.

The \code{IMCentWaveParam} class allows to specify all
    settings for 
    Instances should be created with the \code{IMCentWaveParam}
    constructor. See also the documentation of the
    \code{\link{CentWaveParam}} for all methods and arguments this class
    inherits.

\code{ppmMerging},\code{ppmMerging<-}: getter and
    setter for the \code{ppmMerging} slot of the object.

\code{binWidthIM},\code{binWidthIM<-}: getter and
    setter for the \code{binWidthIM} slot of the object.
}
\details{
See \code{\link{centWave}} for details on the centWave method.
}
\section{Slots}{

\describe{
\item{\code{ppm,peakwidth,snthresh,prefilter,mzCenterFun,integrate,mzdiff,fitgauss,noise,verboseColumns,roiList,firstBaselineCheck,roiScales,ppmMerging,binWidthIM}}{See corresponding parameter above.}
}}

\seealso{
The \code{\link{do_findChromPeaks_IM_centWave}} core
    API function and \code{\link{CentWaveParam}} for the class the
    \code{IMCentWaveParam} extends.

Other peak detection methods: 
\code{\link{findChromPeaks-centWaveWithPredIsoROIs}},
\code{\link{findChromPeaks-centWave}},
\code{\link{findChromPeaks-massifquant}},
\code{\link{findChromPeaks-matchedFilter}},
\code{\link{findChromPeaks}()},
\code{\link{findPeaks-MSW}}
}
\author{
Roger Gine, Johannes Rainer
}
\concept{peak detection methods}
